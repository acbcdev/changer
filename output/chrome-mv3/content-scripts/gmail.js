var gmail=(function(){"use strict";function p(i){return i}const g={matches:["*://mail.google.com/*"],main(){console.log("Gmail keyboard shortcuts extension loaded"),document.addEventListener("keydown",t=>{const r=document.activeElement;if(r?.tagName==="INPUT"||r?.tagName==="TEXTAREA"||r?.getAttribute("contenteditable")==="true")return;if(t.key==="ArrowLeft"||t.key==="<"){t.preventDefault();const s=document.querySelector('[data-tooltip="Newer"]');s&&(s.click(),console.log("Navigated to newer email"))}else if(t.key==="ArrowRight"||t.key===">"){t.preventDefault();const s=document.querySelector('[data-tooltip="Older"]');s&&(s.click(),console.log("Navigated to older email"))}const n=/Mac|iPhone|iPad|iPod/.test(navigator.userAgent);if((n?t.metaKey&&t.ctrlKey:t.ctrlKey&&t.altKey)&&!t.repeat){const s=parseInt(t.key);s>=1&&s<=9&&(t.preventDefault(),e(s-1))}(n?t.metaKey&&t.shiftKey&&t.key.toLowerCase()==="a":(t.altKey||t.ctrlKey&&t.shiftKey)&&t.key.toLowerCase()==="a")&&(t.preventDefault(),i())});function i(){const t=document.querySelector('a[aria-label*="Google Account"]');if(t)t.click(),console.log("Opened account switcher");else{const r=document.querySelector('[aria-label="Google apps"]')?.parentElement?.querySelector('a[href*="accounts.google.com"]');r&&(r.click(),console.log("Opened account switcher (alternative)"))}}function e(t){const r=window.location.href,o=/\/mail\/u\/\d+\//;let n;o.test(r)?n=r.replace(/\/mail\/u\/\d+\//,`/mail/u/${t}/`):n=r.replace(/\/mail\//,`/mail/u/${t}/`),console.log(`Switching to account ${t+1} via URL: ${n}`),window.location.href=n}}},h=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function a(i,...e){}const m={debug:(...i)=>a(console.debug,...i),log:(...i)=>a(console.log,...i),warn:(...i)=>a(console.warn,...i),error:(...i)=>a(console.error,...i)};class d extends Event{constructor(e,t){super(d.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=t}static EVENT_NAME=u("wxt:locationchange")}function u(i){return`${h?.runtime?.id}:gmail:${i}`}function f(i){let e,t;return{run(){e==null&&(t=new URL(location.href),e=i.setInterval(()=>{let r=new URL(location.href);r.href!==t.href&&(window.dispatchEvent(new d(r,t)),t=r)},1e3))}}}class l{constructor(e,t){this.contentScriptName=e,this.options=t,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=u("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=f(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return h.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,t){const r=setInterval(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(e,t){const r=setTimeout(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(e){const t=requestAnimationFrame((...r)=>{this.isValid&&e(...r)});return this.onInvalidated(()=>cancelAnimationFrame(t)),t}requestIdleCallback(e,t){const r=requestIdleCallback((...o)=>{this.signal.aborted||e(...o)},t);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(e,t,r,o){t==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),e.addEventListener?.(t.startsWith("wxt:")?u(t):t,r,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),m.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:l.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(e){const t=e.data?.type===l.SCRIPT_STARTED_MESSAGE_TYPE,r=e.data?.contentScriptName===this.contentScriptName,o=!this.receivedMessageIds.has(e.data?.messageId);return t&&r&&o}listenForNewerScripts(e){let t=!0;const r=o=>{if(this.verifyScriptStartedEvent(o)){this.receivedMessageIds.add(o.data.messageId);const n=t;if(t=!1,n&&e?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}function E(){}function c(i,...e){}const w={debug:(...i)=>c(console.debug,...i),log:(...i)=>c(console.log,...i),warn:(...i)=>c(console.warn,...i),error:(...i)=>c(console.error,...i)};return(async()=>{try{const{main:i,...e}=g,t=new l("gmail",e);return await i(t)}catch(i){throw w.error('The content script "gmail" crashed on startup!',i),i}})()})();
gmail;